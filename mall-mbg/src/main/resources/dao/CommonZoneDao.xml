<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.macro.mall.dao.CommonZoneDao">
    <resultMap id="zoneWorkerInfoMap" type="com.macro.mall.domain.ZoneWorkerInfo"
               extends="com.macro.mall.mapper.YxxZoneWorkerMapper.BaseResultMap">
        <result property="workerName" column="worker_name" jdbcType="VARCHAR"/>
        <result property="workerIcon" column="worker_icon" jdbcType="VARCHAR"/>
        <result property="workerTel" column="worker_tel" jdbcType="VARCHAR"/>
    </resultMap>

    <select id="queryWorkersByZoneId" resultMap="zoneWorkerInfoMap">
        select zw.id,
               zw.worker_id,
               zw.zone_id,
               zw.is_admin,
               yw.real_name worker_name,
               yw.icon      worker_icon,
               yw.phone     worker_tel
        from yxx_zone_worker zw
                     left join yxx_worker yw on zw.worker_id = yw.id
        where zw.zone_id = #{zoneId,jdbcType=BIGINT}
    </select>
</mapper>